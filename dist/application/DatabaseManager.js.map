{"version":3,"sources":["../../src/application/DatabaseManager.js"],"names":["DatabaseManager","connection","Promise","resolve","reject","MongoClient","connect","Application","getConfig","connectionString","useNewUrlParser","err","client","db","databaseName"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;IAEqBA,e;AACjB,+BAAc;AAAA;;AACV,aAAKC,UAAL,GAAkB,IAAlB;AACH;;;;wCAEqB;AAAA;;AAClB,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,oBAAG,MAAKH,UAAR,EAAmB;AACfE,4BAAQ,MAAKF,UAAb;AACH,iBAFD,MAEO;AACHI,yCAAYC,OAAZ,CAAoBC,sBAAYC,SAAZ,GAAwBC,gBAA5C,EAA8D,EAAEC,iBAAiB,IAAnB,EAA9D,EAAyF,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACtG,8BAAKX,UAAL,GAAkBW,OAAOC,EAAP,CAAUN,sBAAYC,SAAZ,GAAwBM,YAAlC,CAAlB;AACA,4BAAG,CAACH,GAAJ,EAAQ;AACJR,oCAAQ,MAAKF,UAAb;AACH,yBAFD,MAEO;AACHG,mCAAOO,GAAP;AACH;AACJ,qBAPD;AAQH;AACJ,aAbM,CAAP;AAcH;;;;;;kBApBgBX,e","file":"DatabaseManager.js","sourcesContent":["import { MongoClient } from 'mongodb';\r\nimport Application from './Application';\r\n\r\nexport default class DatabaseManager {\r\n    constructor() {\r\n        this.connection = null;\r\n    }\r\n\r\n    static getConnection(){\r\n        return new Promise((resolve, reject) => {\r\n            if(this.connection){\r\n                resolve(this.connection);\r\n            } else {\r\n                MongoClient.connect(Application.getConfig().connectionString, { useNewUrlParser: true }, (err, client) => {  \r\n                    this.connection = client.db(Application.getConfig().databaseName);\r\n                    if(!err){\r\n                        resolve(this.connection);\r\n                    } else {\r\n                        reject(err);\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    }\r\n}"]}